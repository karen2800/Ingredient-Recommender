@model RecommendationViewModel
@{
    ViewData["Title"] = "Home Page";
    int maxDisplay = 20;
}

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type="text/css">
    </style>
</head>

<body class="background">
    <div class="text-center">
        <h3 class="display-4">Ingredient Recommender</h3>
        <p>Get recommendations for which ingredients to add to or remove from your recipe.</p>

        @* Type in Ingredient to Add *@
        <h5>Add Ingredients to My Recipe</h5>
        <br />
        <form asp-controller="Home" asp-action="AddIngredient" method="post">
            <input class="input" name="IngredientName" />
            <button class="btn btn-outline-dark" type="submit" asp-controller="Home" asp-action="AddIngredient">Add Ingredient</button>
        </form>
        <br />

        @* Display My Ingredients *@
        @if (Model != null && Model.Recipe != null && Model.Recipe.Ingredients.Count > 0)
        {
            <div class="text-left ingr-justify">
                <h5 >My Recipe</h5>
                <button type="submit" class="btn btn-dark btn-ingr" onclick="location.href='@Url.Action("Reset", "Home")'">
                    Clear
                </button>
            </div>

            <div class="ingr-justify">
                @if (Model != null)
                {
                    @foreach (IngredientModel Ingredient in Model.Recipe.Ingredients)
                    {
                        <button name="IngredientName" type="submit" class="btn btn-light btn-ingr" onclick="location.href='@Url.Action("RemoveIngredient", "Home", new { IngredientName = Ingredient.Name })'">
                            @Html.DisplayFor(model => Ingredient.Name)
                        </button>
                    }
                }
            </div>
        }
        <br />

        @* Display Recommendations *@
        <h5 class="text-left ingr-justify">Recommendations</h5>
        <div class="ingr-justify">
            @if (Model != null)
            {
                @for (int i = 0; i < maxDisplay; i++)
                {
                    <button name="IngredientName" type="submit" class="btn btn-light btn-ingr" onclick="location.href='@Url.Action("AddIngredient", "Home", new { IngredientName = Model.Recommendations[i].Ingredient.Name })'">
                        @Html.DisplayFor(model => Model.Recommendations[i].Ingredient.Name)
                    </button>
                }
            }
        </div>
    </div>
</body>
